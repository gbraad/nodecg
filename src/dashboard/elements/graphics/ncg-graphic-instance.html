<link rel="import" href="../../../../bower_components/iron-icons/device-icons.html">
<link rel="import" href="../../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../../bower_components/paper-button/paper-button.html">

<dom-module id="ncg-graphic-instance">
	<template>
		<style>
			:host {
				@apply --layout-horizontal;
				@apply --layout-flex-none;
				height: 35px;
				box-sizing: border-box;
				margin-left: 8px;
				margin-right: 12px;
				margin-bottom: 5px;
				white-space: nowrap;
				font-size: 18px;
				font-style: normal;
				font-weight: 500;
				line-height: normal;
			}

			:host(:first-child) {
				margin-top: 5px;
			}

			#indicator {
				@apply --layout-flex-none;
				background-color: #CACACA;
				width: 8px;
			}

			:host([status="nominal"]) #indicator {
				background-color: #00A651;
			}

			:host([status="out-of-date"]) #indicator {
				background-color: #FFC700;
			}

			#indicatorIcon {
				@apply --layout-center-center;
				@apply --layout-horizontal;
				border-right: 1px solid #6F7D99;
				width: 38px;
				background: #525F78;
			}

			:host([status="nominal"]) #indicatorIcon {
				color: #00A651;
			}

			:host([status="out-of-date"]) #indicatorIcon,
			:host([status="out-of-date"]) #status {
				color: #FFC700;
			}

			#ip,
			#status,
			#duration {
				@apply --layout-center;
				@apply --layout-horizontal;
				background: #525F78;
				overflow: hidden;
				padding: 0 16px;
				text-overflow: ellipsis;
			}

			#ip {
				@apply --layout-flex;
				border-right: 1px solid #6F7D99;
			}

			#status {
				@apply --layout-flex-none;
				border-right: 1px solid #6F7D99;
				width: 187px;
			}

			#duration {
				@apply --layout-flex-none;
				width: 120px;
				margin-right: 1px;
			}

			#duration-icon {
				margin-right: 6px;
				margin-top: -1px;
			}

			#reloadButton {
				--paper-button: {
					background-color: #6155BD;
				}
			}

			#killButton {
				--paper-button: {
					background-color: #FF7575;
				}
			}

			paper-button {
				@apply --layout-center-center;
				@apply --layout-flex-none;
				@apply --layout-horizontal;
				border-radius: 0;
				margin: 0 1px;
				min-width: 0;
				padding: 0;
				width: 40px;
			}

			paper-button:last-child {
				margin-right: 0;
			}
		</style>

		<div id="indicator"></div>

		<div id="indicatorIcon">
			<iron-icon icon="[[_calcIndicatorIcon(status)]]"></iron-icon>
		</div>

		<div id="ip">[[instance.ipv4]]</div>

		<div id="status">[[_calcStatusMessage(status)]]</div>

		<div id="duration">
			<iron-icon id="duration-icon" icon="device:access-time"></iron-icon>
			<span id="duration-text">[[_calcTimeSince(instance.timestamp, _pulse)]]</span>
		</div>

		<paper-button id="reloadButton" on-tap="reload">
			<iron-icon icon="refresh"></iron-icon>
		</paper-button>

		<paper-button id="killButton" on-tap="kill">
			<iron-icon icon="close"></iron-icon>
		</paper-button>
	</template>

	<script src="ncg-graphic-instance.js"></script>
</dom-module>
